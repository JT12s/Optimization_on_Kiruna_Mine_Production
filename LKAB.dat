# Final Project - Group 7 - Gamjiarjenaki Mohammadreza, Smith Arik, Wenwen Sun, Jie Tang
# SYS 6003 - Fall 2022
# LKAB¡¯s Kiruna Mine Production Schduling

#DATA FILE#

#use the following command to load and run the optimization for LKAB problem.
# include run.run;

#Sets#
set K:= A B C; # three grades of ore A B C
set V:= A B C; # three shaft groups A B C
set A:= A B C; # three machine placement A B C
set T:= 1 2 3; # three time periods 1 2 3
set L:= 1 2 3; # three drawdown line 1 2 3
set Av[A]:= A; # machine A in shaft group A
set Av[B]:= B; # machine B in shaft group B
set Av[C]:= C; # machine C in shaft group C
set IA:=; # No inactive machine placements
set AVa[A]:= B;	# machine A started date limit by B
set AVa[B]:= A C; # machine B start date limit by A C
set AVa[C]:= ; # machine C start date is not limited
set AHa[A]:=; # no machine start data limit by their horizonal machine
set AHa[B]:=; 
set AHa[C]:=;
set At[1]:= A; # A can start at time 1
set At[2]:= B; # B can start at time 2
set At[3]:= C; # C can start at time 3
set B:= 1 2 3 4; # production blocks: 1 2 3 4
set Ba[A]:= 1 2; # production blocks 1 and 2 in machine A
set Ba[B]:= 3; # production block 3 in machine B
set Ba[C]:= 4; # production block 4 in machine C
set Bl[1]:= 1 2 3 4; #all machines in drawline 1
set Bl[2]:=;
set Bl[3]:=;
set Bt[1]:= 1 2; # blocks 1 and 2 can be mined at time 1
set Bt[2]:= 3; # blocks 3 can be mined at time 2
set Bt[3]:= 4; # blocks 4 can be mined at time 3
set La[A]:= 1 2; # drawdown line 1 and 2 in machine A
set La[B]:= ; # no drawdown line in machine B
set La[C]:= 3; # drawdown line 3 in machine C
set LC:= 2; # drawdown line 2 constrainted by another drawdown line
set Ll[1]:= 3; # line 1 constraited by line 3
set LVa[B]:= 1 2 3; # rest of these sets are drawdown line limitation for production
set LVa[A]:=;
set LVa[C]:=;
set LHa[C]:= 1 2 3;
set Lt[1]:= 1;
set Lt[2]:= 2;
set Lt[3]:= 3;
set T3:= 3; # rest of these sets are time peroid for production
set T1:= 1 2;
set Ta[A]:= 1;
set Ta[B]:= 2;
set Ta[C]:= 3;
set Tb[1]:= 2 3;
set Tb[2]:= 1;
set Tb[3]:=;
set Tb[4]:=;
set Tl[1]:= 1;
set Tl[2]:= 2;
set Tl[3]:= 3;
set T2[1]:= 3;
set T2[2]:= 2;
set T2[3]:= 1;


#Parameters#
#maximum number of machine placements that can start to be mined in time period t
param LHDt:=1 10
2 10
3 10;

#maximum number of active machine placements in shaft group v
param LHDv:=A 7
B 6
C 6;

#target demand for ore grade k in time period t (ktons)
param d:= A 1 3
A 2 3
A 3 3
B 1 5
B 2 50
B 3 50
C 1 100
C 2 100
C 3 100;

# reserves of ore grade k available at time t in machine placement a given that the machine placement started to be mined at time t(ktons)
#it gonna be really long to write all of it
param r:= A 1 1 A 20
A 1 1 B 30
A 1 1 C 50
B 2 2 A 8
B 2 2 B 17
B 2 2 C 40
C 3 3 A 10
C 3 3 B 10
C 3 3 C 10;

#1 if machine placement a started to be mined at t
# and is being mined at time t, 0 otherwise
param g:=A 1 1 1
A 2 1 0
A 1 2 0
A 1 3 1
B 2 2 1;

#reserves of ore grade k contained in production block b (ktons)
param R:= 1 A 4
1 B 7
1 C 8
2 A 3
2 B 9
2 C 4
3 A 9
3 B 10
3 C 13
4 A 2
4 B 4
4 C 15;

#minimum production rate of machine placement a in time period t (ktons per time period)
param Maxc:= A 1 10
A 2 10
A 3 10
B 1 13 
B 2 13
B 3 13
C 1 10
C 2 10
C 3 10;

#maximum production rate of machine placement a in time period t (ktons per time period)
param Minc:= A 1 0
A 2 0
A 3 0
B 1 0 
B 2 0
B 3 0
C 1 0
C 2 0
C 3 0;






